<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø¥Ù„Ù‰ Ø£Ù…Ù„ â¤ï¸</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

    <style>
        :root { 
            --main-pink: #ff4d6d; 
            --dark-pink: #c9184a; 
            --gold: #ffd700; 
            /* Ù„ÙˆÙ† Ø§Ù„Ø²Ø¬Ø§Ø¬ - Ø´ÙØ§ÙÙŠØ© Ù…Ø¹ Ø¨ÙŠØ§Ø¶ Ø®ÙÙŠÙ */
            --glass: rgba(255, 255, 255, 0.75); 
        }

        * { box-sizing: border-box; touch-action: manipulation; -webkit-tap-highlight-color: transparent; }
        
        body { 
            margin: 0; display: flex; justify-content: center; align-items: center; height: 100vh; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: radial-gradient(circle, #fff0f3 0%, #ffc1cf 100%); 
            transition: background 2s; overflow: hidden;
            line-height: 1.8; /* Ù…Ø³Ø§ÙØ© Ù…Ø±ÙŠØ­Ø© Ø¨ÙŠÙ† Ø§Ù„Ø³Ø·ÙˆØ± */
        }

        body.romantic-mode { background: #0a0002; }

        /* ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„Ø²Ø¬Ø§Ø¬ÙŠ (Glassmorphism) */
        .container { 
            width: 92%; max-width: 380px; text-align: center; 
            background: var(--glass);
            backdrop-filter: blur(20px); /* ØªØºØ¨ÙŠØ´ Ù‚ÙˆÙŠ Ù„Ù„Ø®Ù„ÙÙŠØ© */
            -webkit-backdrop-filter: blur(20px);
            padding: 45px 25px; 
            border-radius: 45px; 
            border: 1px solid rgba(255, 255, 255, 0.4);
            box-shadow: 0 25px 50px rgba(255, 77, 109, 0.15); 
            position: relative; z-index: 10;
        }

        body.romantic-mode .container { 
            background: rgba(0, 0, 0, 0.6); 
            border: 1px solid rgba(255, 255, 255, 0.1); 
            color: white; 
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† ÙˆØ§Ù„Ù…Ø³Ø§ÙØ§Øª */
        h3 { margin-bottom: 35px; letter-spacing: 1px; font-size: 1.6rem; color: var(--main-pink); font-weight: 800; }
        body.romantic-mode h3 { color: var(--gold); }
        p { margin: 25px 0; font-size: 1.1rem; color: #444; }
        body.romantic-mode p { color: #eee; }

        .section { display: none; }
        .active { display: block; animation: fadeIn 0.7s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* Ø§Ù„Ù‚Ù„ÙˆØ¨ Ø§Ù„Ù…ØªØ³Ø§Ù‚Ø·Ø© */
        .heart { position: fixed; color: rgba(255, 77, 109, 0.4); font-size: 15px; z-index: 1; pointer-events: none; animation: fall linear infinite; }
        @keyframes fall { 0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; } 100% { transform: translateY(110vh) rotate(360deg); opacity: 0; } }

        /* Ø§Ù„Ø£Ù„Ø¨ÙˆÙ… Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ */
        .album-container { width: 270px; height: 330px; margin: 35px auto; perspective: 1500px; }
        .book { width: 100%; height: 100%; position: relative; transform-style: preserve-3d; }
        .page { 
            width: 100%; height: 100%; position: absolute; top: 0; left: 0; 
            transform-origin: left; transform-style: preserve-3d; transition: transform 0.8s cubic-bezier(0.645, 0.045, 0.355, 1); 
            cursor: pointer;
        }
        .page img { 
            width: 100%; height: 100%; object-fit: cover; border-radius: 20px; 
            border: 6px solid white; backface-visibility: hidden;
            transition: transform 0.3s ease-out; /* Ù„Ù„Ù€ Tilt */
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .page.flipped { transform: rotateY(-165deg); }
        .page-back { 
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #fff; 
            transform: rotateY(180deg); backface-visibility: hidden; border-radius: 20px; 
            display: flex; align-items: center; justify-content: center; font-weight: bold; color: var(--main-pink);
        }

        #photo-caption { font-size: 1.3rem; font-weight: bold; color: var(--main-pink); margin-top: 35px; min-height: 45px; }

        /* Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ù†ÙˆØ± */
        #love-counter { 
            font-family: 'Courier New', monospace; font-size: 1.3rem; 
            color: var(--gold); text-shadow: 0 0 15px rgba(255,215,0,0.6);
            background: rgba(255,255,255,0.1); padding: 25px; border-radius: 20px; 
            margin: 30px 0; border: 1px solid rgba(255,215,0,0.4);
            display: block; width: 100%; direction: ltr; font-weight: bold;
        }

        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        button { 
            background: linear-gradient(145deg, #ff4d6d, #d9163b); color: white; border: none; 
            padding: 20px; border-radius: 25px; width: 95%; font-weight: bold; cursor: pointer; 
            margin-top: 25px; transition: 0.3s; box-shadow: 0 8px 20px rgba(217,22,59,0.3);
            font-size: 1.1rem;
        }
        button:active { transform: scale(0.96); }

        /* Ø§Ù„Ø´Ù…Ø¹Ø© */
        .candle-container { position: relative; height: 160px; cursor: pointer; margin: 45px auto 20px; width: 60px; }
        .flame { width: 22px; height: 38px; background: orange; border-radius: 50% 50% 20% 20%; position: absolute; top: 10px; left: 50%; transform: translateX(-50%); animation: flicker 0.1s infinite; box-shadow: 0 0 25px orange;}
        @keyframes flicker { 0%,100% { transform: translateX(-50%) scale(1); } 50% { transform: translateX(-50%) scale(1.15) rotate(3deg); } }
        .stick { width: 16px; height: 85px; background: white; position: absolute; bottom: 25px; left: 50%; transform: translateX(-50%); border-radius: 6px; box-shadow: inset -5px 0 5px #f0f0f0; }

        /* Ø§Ù„Ø¨ØµÙ…Ø© */
        .fp-wrapper { position: relative; width: 110px; height: 110px; margin: 45px auto; cursor: pointer; }
        .scan-line { position: absolute; top: 0; left: 0; width: 100%; height: 5px; background: #00ffcc; display: none; box-shadow: 0 0 15px #00ffcc; z-index: 5; }

        /* Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© */
        #black-screen { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; 
            color: white; z-index: 10000; display: none; flex-direction: column; 
            justify-content: center; align-items: center; text-align: center; padding: 40px;
        }
        
        #black-screen img { border: 6px solid var(--gold); box-shadow: 0 0 40px rgba(255,215,0,0.5); }
    </style>
</head>
<body>

<div id="top-comment" style="position: fixed; top: -100px; left: 10%; right: 10%; background: rgba(255,255,255,0.9); color: var(--main-pink); padding: 18px; border-radius: 25px; text-align: center; transition: 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275); z-index: 9999; font-weight: bold; box-shadow: 0 10px 20px rgba(0,0,0,0.15);"></div>

<audio id="bgMus" src="1000320534.mp3" loop></audio>
<audio id="finalSong" src="1000315475.mp3"></audio>
<audio id="voice" src="voice.mp3" preload="auto"></audio>

<div class="container" id="main-ui">
    <div id="s0" class="section active">
        <h3>Ø£Ù‡Ù„Ø§Ù‹ ÙŠØ§ Ø£Ù…ÙŠØ±Ø© â¤ï¸</h3>
        <div class="fp-wrapper" id="fp-area" onmousedown="startScan()" ontouchstart="startScan()" onmouseup="stopScan()" ontouchend="stopScan()">
            <div class="scan-line"></div>
            <div style="font-size: 90px; color: var(--gold);"><i class="fas fa-fingerprint"></i></div>
        </div>
        <p style="margin-top: 30px;">Ø§Ø¶ØºØ·ÙŠ Ø¨ØµÙ…ØªÙƒ Ù…Ø·ÙˆÙ„Ø§Ù‹ ÙŠØ§ Ø£Ù…Ù„..</p>
    </div>

    <div id="s1" class="section">
        <h3>Ù†ÙˆØ±ØªÙŠ Ø¯Ù†ÙŠØªÙŠ</h3>
        <input type="password" id="pw" style="width: 90%; padding: 20px; border-radius: 25px; border: 2px solid #f0f0f0; text-align: center; font-size: 1.3rem; outline: none;" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø³Ø±">
        <button onclick="check()">Ø¯Ø®ÙˆÙ„ â¤ï¸</button>
    </div>

    <div id="s2" class="section">
        <h3>Ø¯ÙˆØ³ÙŠ Ø¹Ù„Ù‰ Ø§Ù„ÙˆØ±Ø¯Ø© âœ¨</h3>
        <div style="position: relative; width: 150px; height: 150px; margin: 45px auto; border: 5px dashed var(--main-pink); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; animation: pulse 2s infinite;" onclick="flowerLogic()">
            <div style="font-size: 70px;">ğŸŒ¹</div>
        </div>
    </div>

    <div id="s3" class="section">
        <h3>Ø°ÙƒØ±ÙŠØ§ØªÙ†Ø§ â¤ï¸</h3>
        <div class="album-container"><div class="book" id="albumBook"></div></div>
        <div id="photo-caption">Ø§ÙØªØ­ÙŠ Ø§Ù„ØºÙ„Ø§Ù ÙŠØ§ Ø±ÙˆØ­ÙŠ..</div>
        <button id="toGiftBtn" style="display: none;" onclick="startRomanticScene()">Ø§ÙØªØ­ÙŠ Ø§Ù„Ù‡Ø¯ÙŠØ© ğŸ</button>
    </div>

    <div id="s4" class="section">
        <div class="gift-box" id="giftBox" onclick="openGift()" style="width: 120px; height: 120px; margin-top: 40px;">
            <div class="lid"></div><div class="box"></div>
        </div>
        <div id="typewriter-gift" style="font-weight: bold; margin-top: 45px; padding: 0 20px; font-size: 1.2rem; color: var(--gold);"></div>
        <button id="toScratchBtn" style="display: none;" onclick="go(5)">Ø§Ù…Ø³Ø­ÙŠ Ø§Ù„Ù…ÙØ§Ø¬Ø£Ø© ğŸ«</button>
    </div>

    <div id="s5" class="section">
        <h3>Ø§Ù…Ø³Ø­ÙŠ Ø§Ù„ÙƒØ§Ø±Øª âœ¨</h3>
        <div style="position: relative; width: 270px; height: 170px; margin: 40px auto; border-radius: 20px; overflow: hidden; box-shadow: 0 20px 40px rgba(0,0,0,0.2);">
            <div style="position: absolute; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; background: white; color: var(--main-pink); font-weight: bold; font-size: 1.4rem;">Ø¨Ø­Ø¨Ùƒ ÙŠØ§ Ø£Ù…Ù„ â¤ï¸</div>
            <canvas id="scratch-canvas" width="270" height="170" style="position: absolute; top: 0; left: 0; cursor: crosshair;"></canvas>
        </div>
        <button id="finalStartBtn" style="display: none;" onclick="go(6)">ØªÙ…Ù†Ù‰ Ø£Ù…Ù†ÙŠØ© âœ¨</button>
    </div>

    <div id="s6" class="section">
        <h3>ØºÙ…Ø¶ÙŠ Ø¹ÙŠÙ†Ùƒ ÙˆØ§ØªÙ…Ù†ÙŠ Ø£Ù…Ù†ÙŠØ©.. â¤ï¸</h3>
        <div class="candle-container" onclick="blowCandle()">
            <div class="flame" id="candle-flame"></div>
            <div class="stick"></div>
        </div>
        <p style="margin-top: 40px; opacity: 0.7; font-size: 1rem;">Ø¯ÙˆØ³ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ù…Ø¹Ø© Ø¹Ø´Ø§Ù† ØªØ·ÙÙŠÙ‡Ø§</p>
    </div>
</div>

<div id="black-screen">
    <h1 style="color: var(--gold); font-size: 2rem; margin-bottom: 30px;">Happy Birthday Amal!</h1>
    <img src="IMG-20251030-WA0022.jpg" style="width: 180px; height: 180px; border-radius: 50%; object-fit: cover; margin-bottom: 25px;">
    <p style="font-size: 1.3rem; margin-bottom: 5px;">ÙƒÙ„ Ø³Ù†Ø© ÙˆØ£Ù†ØªÙ Ù…Ù†ÙˆØ±Ø© Ø­ÙŠØ§ØªÙŠ.. â¤ï¸</p>
    <div id="love-counter"></div>
    <button onclick="location.reload()" style="width: 160px; font-size: 1rem; background: #222; margin-top: 40px;">Ø§Ù„Ø¹ÙˆØ¯Ø© ğŸ </button>
</div>

<script>
let fClicks = 0, flippedCount = 0, typingTimer, scanTimer;

const memories = [
    { img: "IMG-20251030-WA0022.jpg", t: "Ø¶Ø­ÙƒØªÙƒ Ø­ÙŠØ§Ø© â¤ï¸" },
    { img: "IMG-20251030-WA0023.jpg", t: "Ø¨Ø¹Ø´Ù‚ ØªÙØ§ØµÙŠÙ„Ùƒ â¤ï¸" },
    { img: "IMG-20251012-WA0053.jpg", t: "Ø£Ø¬Ù…Ù„ Ù…Ù„Ø§Ù…Ø­" },
    { img: "IMG-20251019-WA0039.jpg", t: "Ù…Ù†ÙˆØ±Ø© Ø¯Ù†ÙŠØªÙŠ" },
    { img: "IMG-20251106-WA0032.jpg", t: "ÙŠØ§ Ø±Ù‚Ø© Ø§Ù„Ù‚Ù„Ø¨" },
    { img: "IMG-20251028-WA0006.jpg", t: "Ø¹ÙŠÙˆÙ†Ùƒ Ø­ÙƒØ§ÙŠØ©" },
    { img: "IMG-20251027-WA0100.jpg", t: "Ù…ØªØ£Ù„Ù‚Ø© Ø¯Ø§ÙŠÙ…Ø§Ù‹" },
    { img: "IMG-20251019-WA0011.jpg", t: "Ø§Ù„Ø¬Ù…Ø§Ù„ ÙƒÙ„Ù‡" },
    { img: "IMG-20251007-WA0049.jpg", t: "Ø°ÙƒØ±Ù‰ ØºØ§Ù„ÙŠØ©" },
    { img: "IMG-20251120-WA0013.jpg", t: "ÙŠØ§ Ø£ØºÙ„Ù‰ Ø§Ù„Ù†Ø§Ø³" },
    { img: "IMG-20251031-WA0076.jpg", t: "ÙƒÙ„ Ø³Ù†Ø© ÙˆØ£Ù†ØªÙ Ø·ÙŠØ¨Ø©" }
];

const bgMusic = document.getElementById('bgMus');
const flipSound = new Audio('https://www.soundjay.com/misc/sounds/paper-flip-1.mp3');

// ØªÙƒØ±Ø§Ø± Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ù…Ø¹ Ù‚Øµ Ø¢Ø®Ø± 10 Ø«ÙˆØ§Ù†ÙŠ
bgMusic.addEventListener('timeupdate', function() {
    if (this.duration && this.currentTime > (this.duration - 10)) {
        this.currentTime = 0;
        this.play();
    }
});

// ØªØ£Ø«ÙŠØ± Ø§Ù„Ù‚Ù„ÙˆØ¨
function createHearts() {
    setInterval(() => {
        const heart = document.createElement('div');
        heart.className = 'fas fa-heart heart';
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.animationDuration = (Math.random() * 3 + 2.5) + 's';
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 5500);
    }, 450);
}
createHearts();

// Ø§Ù„Ø¹Ø¯Ø§Ø¯ (10/7/2025)
function updateCounter() {
    const startDate = new Date('2025-07-10T00:00:00');
    const now = new Date();
    const diff = now - startDate;
    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
    const mins = Math.floor((diff / 1000 / 60) % 60);
    const secs = Math.floor((diff / 1000) % 60);
    const el = document.getElementById('love-counter');
    if(el) el.innerText = `${days}d : ${hours}h : ${mins}m : ${secs}s`;
}
setInterval(updateCounter, 1000);

function vib(ms = 50) { if (navigator.vibrate) navigator.vibrate(ms); }

function showComment(txt) { 
    const c = document.getElementById('top-comment'); 
    c.innerText = txt; c.style.top = "20px";
    setTimeout(() => { c.style.top = "-100px"; }, 3000);
}

function startScan() { 
    vib(100); 
    document.querySelector('.scan-line').style.display = 'block'; 
    scanTimer = setTimeout(() => { go(1); }, 2200);
}
function stopScan() { 
    document.querySelector('.scan-line').style.display = 'none'; 
    clearTimeout(scanTimer); 
}

function check() { 
    if (document.getElementById('pw').value === "123") { 
        vib(); showComment("Ù†ÙˆØ±ØªÙŠ ÙŠØ§ Ø³Øª Ø§Ù„Ø¨Ù†Ø§Øª â¤ï¸"); 
        setTimeout(() => go(2), 1000); 
    } else { 
        vib(200); alert("Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯ ØºÙ„Ø· ÙŠØ§ Ø£Ù…Ù„!"); 
    }
}

function flowerLogic() { fClicks++; vib(); if (fClicks >= 3) go(3); else showComment("ÙƒÙ…Ø§Ù† Ù…Ø±Ø©.. âœ¨"); }

function typeWriter(text, elementId) { 
    const el = document.getElementById(elementId); el.innerText = ""; let i = 0; 
    clearTimeout(typingTimer);
    function type() { if (i < text.length) { el.innerText += text.charAt(i); i++; typingTimer = setTimeout(type, 80); } } 
    type(); 
}

function initAlbum() { 
    const book = document.getElementById('albumBook'); 
    if (book.children.length > 0) return; 

    const cover = document.createElement('div'); cover.className = 'page'; cover.style.zIndex = 50; 
    cover.innerHTML = `<div style="width:100%; height:100%; background:linear-gradient(45deg,#ff4d6d,#c9184a); color:white; display:flex; align-items:center; justify-content:center; border-radius:20px; border:5px solid gold; text-align:center; padding:20px;"><h2>Ø£Ù„Ø¨ÙˆÙ… Ø°ÙƒØ±ÙŠØ§ØªÙ†Ø§ â¤ï¸</h2></div><div class="page-back">ÙŠÙ„Ø§ Ø¨ÙŠÙ†Ø§..</div>`; 
    cover.onclick = function() { bgMusic.play(); flip.call(this); };
    book.appendChild(cover);

    memories.forEach((m, i) => { 
        const p = document.createElement('div'); p.className = 'page'; p.style.zIndex = memories.length - i; 
        const img = document.createElement('img'); img.src = m.img;
        
        // Tilt Effect
        p.addEventListener('mousemove', (e) => {
            if (p.classList.contains('flipped')) return;
            const rect = p.getBoundingClientRect();
            const x = e.clientX - rect.left; const y = e.clientY - rect.top;
            img.style.transform = `rotateY(${(x - rect.width / 2) / 8}deg) rotateX(${-(y - rect.height / 2) / 8}deg) scale(1.06)`;
        });
        p.addEventListener('mouseleave', () => { img.style.transform = `rotateY(0) rotateX(0) scale(1)`; });
        
        p.appendChild(img);
        const back = document.createElement('div'); back.className = 'page-back'; back.innerText = 'â¤ï¸';
        p.appendChild(back);
        p.onclick = flip; book.appendChild(p); 
    }); 
}

function flip() { 
    if (!this.classList.contains('flipped')) { 
        vib([30, 60]); flipSound.play();
        this.classList.add('flipped'); flippedCount++; 
        if (flippedCount <= memories.length) typeWriter(memories[flippedCount - 1].t, 'photo-caption'); 
        if (flippedCount > memories.length) document.getElementById('toGiftBtn').style.display = 'block'; 
    } 
}

function go(n) { 
    document.querySelectorAll('.section').forEach(s => s.classList.remove('active')); 
    document.getElementById('s' + n).classList.add('active'); 
    if (n === 3) initAlbum(); 
    if (n === 5) initScratch(); 
}

function startRomanticScene() { 
    vib(); document.body.classList.add('romantic-mode'); go(4); 
    for (let i = 0; i < 50; i++) { 
        let s = document.createElement('div'); s.className = 'star'; 
        s.style.left = Math.random() * 100 + 'vw'; s.style.top = Math.random() * 100 + 'vh';
        s.style.width = s.style.height = Math.random() * 2 + 'px';
        s.style.setProperty('--d', (Math.random() * 3 + 2) + 's');
        document.body.appendChild(s);
    } 
}

function openGift() {
    vib(100); document.getElementById('giftBox').classList.add('open');
    bgMusic.volume = 0.2; document.getElementById('voice').play();
    document.getElementById('voice').onended = () => { bgMusic.volume = 1.0; };
    typeWriter("ÙƒÙ„ Ø³Ù†Ø© ÙˆØ£Ù†ØªÙŠ Ø£Ø¬Ù…Ù„ Ø­Ø§Ø¬Ø© Ø­ØµÙ„Øª ÙÙŠ Ø¯Ù†ÙŠØªÙŠ.. Ø¨Ø­Ø¨Ùƒ ÙŠØ§ Ø£Ù…Ù„", "typewriter-gift");
    setTimeout(() => { document.getElementById('toScratchBtn').style.display = 'block'; }, 3500);
}

function initScratch() {
    const canvas = document.getElementById('scratch-canvas'); const ctx = canvas.getContext('2d');
    ctx.fillStyle = '#C0C0C0'; ctx.fillRect(0, 0, canvas.width, canvas.height);
    let isDrawing = false;
    const scratch = (e) => {
        if (!isDrawing) return;
        const rect = canvas.getBoundingClientRect();
        const x = (e.clientX || (e.touches ? e.touches[0].clientX : 0)) - rect.left;
        const y = (e.clientY || (e.touches ? e.touches[0].clientY : 0)) - rect.top;
        ctx.globalCompositeOperation = 'destination-out';
        ctx.beginPath(); ctx.arc(x, y, 28, 0, Math.PI * 2); ctx.fill();
        document.getElementById('finalStartBtn').style.display = 'block';
    };
    canvas.addEventListener('mousedown', () => isDrawing = true);
    canvas.addEventListener('touchstart', () => isDrawing = true);
    window.addEventListener('mouseup', () => isDrawing = false);
    canvas.addEventListener('mousemove', scratch);
    canvas.addEventListener('touchmove', (e) => { e.preventDefault(); scratch(e); }, { passive: false });
}

function blowCandle() {
    vib(150); document.getElementById('candle-flame').style.display = 'none';
    confetti({ particleCount: 300, spread: 120, origin: { y: 0.6 } });
    setTimeout(() => {
        bgMusic.pause(); document.getElementById('finalSong').play();
        document.getElementById('main-ui').style.display = 'none';
        document.getElementById('black-screen').style.display = 'flex';
    }, 2000);
}
</script>
</body>
</html>
